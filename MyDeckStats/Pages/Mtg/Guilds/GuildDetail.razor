@page "/guild"
@page "/guild/{EntityId}"

@using MyDeckStats.Domain.Entities.Mtg.Decks;
@using MyDeckStats.Pages.Shared;

@inherits DetailPageBase<Guild>;

<AuthorizeView Roles="SuperUser">
    <MudForm @ref="Form" @bind-IsValid="@success">
        <MudPaper Class="pa-4">
            <EntityBaseForm Entity="@Entity"></EntityBaseForm>
            <MudGrid>
                <MudItem xs="12" md="12" lg="12">
                    <MudTextField @bind-Value="Entity.ColorIdentities" @attributes="@Splats.TextRequired(nameof(Entity.ColorIdentities))" For="@(() => Entity.ColorIdentities)" />
                </MudItem>
            </MudGrid>
        </MudPaper>
        <MudPaper Class="pa-4">
            <MudButton @attributes="Splats.NewButton()" OnClick="@(() => Save(Entity!, "guilds"))">Save</MudButton>
            <MudButton @attributes="Splats.ResetButton()" OnClick="@(()=>Form!.ResetAsync())" Class="mx-2">Reset</MudButton>
            <MudButton @attributes="Splats.CancelButton()" OnClick="@(() => Cancel("guilds"))">Cancel</MudButton>
        </MudPaper>
    </MudForm>
</AuthorizeView>
